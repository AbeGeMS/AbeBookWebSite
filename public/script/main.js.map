{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/lib/utility.ts","webpack:///./src/public/script/model/baseReducer.ts","webpack:///./src/public/script/model/bookMarkModel.ts","webpack:///./src/public/script/model/bookMarkReducer.ts","webpack:///./src/public/script/model/bookModel.ts","webpack:///./src/public/script/model/bookReducer.ts","webpack:///./src/public/script/model/common.ts","webpack:///./src/public/script/model/constants.ts","webpack:///./src/public/script/model/dataContainer.ts","webpack:///./src/public/script/model/notificationReducer.ts","webpack:///./src/public/script/model/settingsModel.ts","webpack:///./src/public/script/model/settingsReducer.ts","webpack:///./src/public/script/provider/dataProvider.ts","webpack:///./src/public/script/view/NavTitle.tsx","webpack:///./src/public/script/view/TableOfContents.tsx","webpack:///./src/public/script/view/baseComponent.tsx","webpack:///./src/public/script/view/bookList.tsx","webpack:///./src/public/script/view/contents.tsx","webpack:///./src/public/script/view/homePage.tsx","webpack:///./src/public/script/view/mainPage.tsx","webpack:///./src/public/script/view/notificationControl.tsx","webpack:///./src/public/script/view/tabBarControl.tsx","webpack:///external \"AMUIDingTalk\"","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///external \"Redux\""],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/public/script/view/mainPage.tsx\");\n","export function encodingStr(value: string): string {\r\n    return encodeURIComponent(value||\"\").replace(/'/g, \"%27\").replace(/\"/g, \"%22\");\r\n}\r\n\r\nexport function decodingStr(value: string): string {\r\n    return decodeURIComponent(value && value.replace(/\\+/g, \" \"));\r\n}","import { Reducer } from \"redux\";\r\n\r\n// State\r\nexport interface IBaseState {\r\n    status?:RequestStatus;\r\n}\r\n\r\n// Action\r\nexport interface BaseAction {\r\n    type: string;\r\n    status?: RequestStatus; \r\n}\r\n\r\nexport enum RequestStatus{\r\n    Start,\r\n    Success,\r\n    Failed,\r\n}\r\n\r\n\r\nexport type HandlerMap<T> = { [actionType: string]: Reducer<T, BaseAction> };\r\n\r\nexport function reducerTemplate<T>(state: T, action: BaseAction, handlers: HandlerMap<T>): T {\r\n    let handler = handlers[action.type];\r\n\r\n    return handler ? handler(state, action) : state;\r\n}\r\n\r\n","import { DataProvider } from \"../provider/dataProvider\";\r\nimport { BookMarkData } from \"../../../lib/typings/dataModel\";\r\n\r\nexport class BookMark {\r\n\r\n    private provider: DataProvider;\r\n\r\n    public constructor() {\r\n        this.provider = new DataProvider();\r\n    }\r\n\r\n    public set Provider(provider: DataProvider) {\r\n        this.provider = provider;\r\n    }\r\n\r\n    public deleteBook(bookId: string): JQueryPromise<string> {\r\n        return this.provider.deleteBookMark(bookId)\r\n            .then(value => {\r\n                if (value) {\r\n                    return `${bookId} was deleted`;\r\n                } else {\r\n                    return `${bookId} wasn't deleted`;\r\n                }\r\n            }, err => {\r\n                return `failed to delete ${JSON.stringify(err)}`;\r\n            });\r\n    }\r\n\r\n    public getBooks(): JQueryPromise<BookMarkData[]> {\r\n        return this.provider.getBookMarks()\r\n            .then(b => b.filter(v => v.BookId.trim() !== \"\" || v.Name.trim() !== \"\"));\r\n    }\r\n\r\n    public getLatestChapter(bookId: string): JQueryPromise<number> {\r\n        return this.provider.getLatestChapterNumber(bookId);\r\n    }\r\n}","import { BookMarkData } from \"../../../lib/typings/dataModel\";\r\nimport { BookMark } from \"./bookMarkModel\";\r\nimport { BaseAction, reducerTemplate, HandlerMap, IBaseState, RequestStatus } from \"./baseReducer\";\r\nimport { Reducer } from \"redux\";\r\nimport Constants = require(\"./constants\");\r\nimport reduxStore from \"./dataContainer\";\r\nimport { DingamStyle } from \"./common\";\r\nimport { Notify, NotifyAsync } from \"./notificationReducer\";\r\n\r\n// State\r\nexport interface IBookMarkState extends IBaseState {\r\n    books?: BookMarkData[];\r\n}\r\n\r\n// Reducer\r\nexport let bookMarkReducer: Reducer<IBookMarkState, BaseAction> = (state = { books: [] }, action) => {\r\n    return reducerTemplate<IBookMarkState>(state, action, BookMark_HandlerMap);\r\n};\r\n\r\n// Action\r\nexport interface requestGetBooksAction extends BaseAction {\r\n}\r\n\r\nexport interface responseGetBooksAction extends BaseAction{\r\n    books:BookMarkData[];\r\n}\r\n\r\nfunction requestGetBooks(state: IBookMarkState, action: requestGetBooksAction): IBookMarkState {\r\n    if (action.type !== Constants.GetBooks_Request) {\r\n        return state;\r\n    }\r\n\r\n    let bookMark = new BookMark();\r\n    bookMark.getBooks().then(books => {\r\n        reduxStore().dispatch({\r\n            type:Constants.GetBooks_Response,\r\n            status:RequestStatus.Success,\r\n            books:books,\r\n        });\r\n        Notify(`get books success`,DingamStyle.Success,true);\r\n    }, error => {\r\n        Notify(`Failed to get books ${error.message}`, DingamStyle.Alert, true);\r\n    });\r\n\r\n    NotifyAsync(`Start to get books`, DingamStyle.Secondary, true);\r\n\r\n    return { ...state, status: RequestStatus.Start };\r\n}\r\n\r\nfunction responseGetBooks(state: IBookMarkState, action: responseGetBooksAction): IBookMarkState {\r\n    if (action.type === Constants.GetBooks_Response) {\r\n        let newState = { ...state, books: action.books, status: action.status };\r\n        return newState;\r\n\r\n    }\r\n\r\n    return { ...state };\r\n}\r\n\r\nlet BookMark_HandlerMap: HandlerMap<IBookMarkState> = {\r\n    [Constants.GetBooks_Request]: requestGetBooks,\r\n    [Constants.GetBooks_Response]: responseGetBooks,\r\n};\r\n\r\n","import { ContentData, TitleData } from \"../../../lib/typings/dataModel\";\r\nimport { DataProvider } from \"../provider/dataProvider\";\r\n\r\nexport class BookModel {\r\n    constructor() {\r\n        this.provider = new DataProvider();\r\n    }\r\n\r\n    private provider: DataProvider;\r\n\r\n    public get Provider(): DataProvider { return this.provider }\r\n\r\n    public set Provider(provider: DataProvider) {\r\n        this.provider = provider\r\n    };\r\n\r\n    private bookId: string | null = null;\r\n\r\n    public get BookId(): string | null {\r\n        return this.bookId;\r\n    }\r\n\r\n    public set BookId(bookId: string) {\r\n        this.bookId = bookId;\r\n    }\r\n\r\n    public getBookContent(bookId: string, chapter:string[]): JQueryPromise<ContentData[]> {\r\n        return $.when(\r\n            ...chapter.map(\r\n                (value, index) => this.provider.getbookContent(bookId, value, index)\r\n            )\r\n        ).then(\r\n            (...contents) => contents.map(v=>v[0]),\r\n            err => err\r\n        );\r\n    }\r\n\r\n    public getTableOfContents(bookId: string): JQueryPromise<TitleData[]> {\r\n        return this.provider.getbookTableOfContent(bookId);\r\n    }\r\n}\r\n","import { TitleData, ContentData } from \"../../../lib/typings/dataModel\";\r\nimport { HandlerMap, BaseAction, reducerTemplate, RequestStatus, IBaseState } from \"./baseReducer\";\r\nimport { Reducer } from \"redux\";\r\nimport CONST = require(\"./constants\");\r\nimport { BookModel } from \"./bookModel\";\r\nimport reduxStore from \"./dataContainer\";\r\nimport { Notify, NotifyAsync } from \"./notificationReducer\";\r\nimport { DingamStyle } from \"./common\";\r\nimport { BookMark } from \"./bookMarkModel\";\r\nimport { stat } from \"fs\";\r\n\r\nexport interface IBookState extends IBaseState {\r\n    bookId?: string;\r\n    contents?: ContentData[];\r\n    latestCharpter?: number;\r\n    table?: TitleData[];\r\n}\r\nexport namespace Action {\r\n    export interface GetTableOfContents_Request extends BaseAction {\r\n        bookId: string;\r\n    }\r\n\r\n    export interface GetTableOfContents_Response extends BaseAction {\r\n        table: TitleData[];\r\n        bookId: string;\r\n        latestCharpter: number;\r\n    }\r\n\r\n    export interface GetContents_Request extends BaseAction {\r\n        chapterId: string;\r\n        bookId: string;\r\n    }\r\n\r\n    export interface GetContents_Response extends BaseAction {\r\n        contents: ContentData[];\r\n    }\r\n}\r\n\r\nexport let bookReducer: Reducer<IBookState, BaseAction> = (state = {}, action) => {\r\n    return reducerTemplate<IBookState>(state, action, Book_HandlerMap);\r\n};\r\n\r\nfunction getTableOfContent_Request_Handler(state: IBookState, action: Action.GetTableOfContents_Request): IBookState {\r\n    if (action.type === CONST.GetTableOfContents_Request) {\r\n        let book = new BookModel();\r\n        let bookMark = new BookMark();\r\n        $.when<any>(book.getTableOfContents(action.bookId), bookMark.getLatestChapter(action.bookId))\r\n            .then(\r\n                (table, chapterIndex) => {\r\n                    Notify(`succes get the table of content for book ${action.bookId}`, DingamStyle.Success);\r\n                    setTimeout(() => {\r\n                        let newaction: Action.GetTableOfContents_Response = {\r\n                            type: CONST.GetTableOfContents_Response,\r\n                            status: RequestStatus.Success,\r\n                            table: table[0],\r\n                            bookId: action.bookId,\r\n                            latestCharpter: chapterIndex[0].latestChapter,\r\n                        }\r\n                        reduxStore().dispatch(newaction);\r\n                    }, 0);\r\n                },\r\n                err => Notify(`Failed to get the table of content casue: ${JSON.stringify(err)}`, DingamStyle.Alert)\r\n            );\r\n        NotifyAsync(`Start to get book ${action.bookId}...`, DingamStyle.Secondary, true);\r\n    }\r\n\r\n    return { ...state, status: RequestStatus.Start };\r\n}\r\n\r\nfunction getTableOfContent_Response_Handler(state: IBookState, action: Action.GetTableOfContents_Response): IBookState {\r\n    if (action.type === CONST.GetTableOfContents_Response) {\r\n        return {\r\n            ...state,\r\n            bookId: action.bookId,\r\n            table: action.table,\r\n            latestCharpter: action.latestCharpter,\r\n            status: action.status,\r\n        }\r\n    }\r\n\r\n    return { ...state };\r\n}\r\n\r\nfunction getContent_Request_Handler(state: IBookState, action: Action.GetContents_Request): IBookState {\r\n    if (action.type === CONST.GetContent_Request) {\r\n        let book = new BookModel();\r\n        let startIndex = state.table.findIndex(v => v.Href === action.chapterId);\r\n        let list = state.table.slice(startIndex, startIndex + 5).map(v => v.Href);\r\n        book.getBookContent(action.bookId, list).then(\r\n            contents => {\r\n                Notify(`Success get the book content of chapter ${action.type}`, DingamStyle.Success);\r\n                setTimeout(() => {\r\n                    let newAction: Action.GetContents_Response = {\r\n                        type: CONST.GetContent_Response,\r\n                        status: RequestStatus.Success,\r\n                        contents: contents,\r\n                    };\r\n                    reduxStore().dispatch(newAction);\r\n                }, 0);\r\n            },\r\n            err => Notify(`Failed to get content by ${err}`, DingamStyle.Alert)\r\n        );\r\n        NotifyAsync(`Start to loading content of chapter ${action.chapterId}`, DingamStyle.Secondary);\r\n    }\r\n    return { ...state, status: RequestStatus.Start };\r\n}\r\n\r\nfunction getContent_Response_Handler(state: IBookState, action: Action.GetContents_Response): IBookState {\r\n    if (action.type === CONST.GetContent_Response)\r\n        return { ...state, contents: action.contents, status: action.status };\r\n    return { ...state };\r\n}\r\n\r\nlet Book_HandlerMap: HandlerMap<IBookState> = {\r\n    [CONST.GetTableOfContents_Request]: getTableOfContent_Request_Handler,\r\n    [CONST.GetTableOfContents_Response]: getTableOfContent_Response_Handler,\r\n    [CONST.GetContent_Request]: getContent_Request_Handler,\r\n    [CONST.GetContent_Response]: getContent_Response_Handler,\r\n};\r\n\r\n","export enum DingamStyle {\r\n    Alert = \"alert\",\r\n    Primary = \"primary\",\r\n    Secondary = \"secondary\",\r\n    Success = \"success\",\r\n    Warning = \"warning\",\r\n    Dark = \"dark\",\r\n}\r\n\r\nexport enum ListItemRole {\r\n    Header = \"header\",\r\n    Item = \"item\",\r\n}","import { ICorrection } from \"../../../lib/typings/dataModel\";\r\n\r\nexport let GetBooks_Request = \"GetBooks_Request\";\r\nexport type GetBooks_Request = typeof GetBooks_Request;\r\n\r\nexport let GetBooks_Response = \"GetBooks_Response\";\r\nexport type GetBooks_Response = typeof GetBooks_Response;\r\n\r\nexport let SetBookDomain_Request = \"SetBookDomain_Request\";\r\nexport type SetBookDomain_Request = typeof SetBookDomain_Request;\r\n\r\nexport let SetBookDomain_Response = \"SetBookDomain_Response\";\r\nexport type SetBookDomain_Response = typeof SetBookDomain_Response;\r\n\r\nexport let ChangeNotification = \"ChangeNotification\";\r\nexport type changeNotification = typeof ChangeNotification;\r\n\r\nexport let GetTableOfContents_Request = \"GetTableOfContents_Request\";\r\nexport type GetTableOfContents_Request = typeof GetTableOfContents_Request;\r\n\r\nexport let GetTableOfContents_Response = \"GetTableOfContetns_Response\";\r\nexport type GetTableOfContents_Response = typeof GetTableOfContents_Response;\r\n\r\nexport let GetContent_Request = \"GetContent_Request\";\r\nexport type GetContent_Request = typeof GetContent_Request;\r\n\r\nexport let GetContent_Response = \"GetContent_Response\";\r\nexport type GetContent_Response = typeof GetContent_Response;\r\n\r\nexport let CorrectionList: ICorrection[] = [\r\n    { pattern: \"sè\", value: \"色\" },\r\n    { pattern: \"rì\", value: \"日\" },\r\n    { pattern: \"jīng\", value: \"精\" },\r\n    { pattern: \"xìng\", value: \"兴\" },\r\n    { pattern: \"()\", value: \"\" },\r\n    { pattern: \"cháo\", value: \"糙\" },\r\n    { pattern: \"jǐng\", value: \"景\" },\r\n    { pattern: \"yīn\", value: \"音\" },\r\n    { pattern: \"sāo\", value: \"瘙\" },\r\n    { pattern: \"yù\", value: \"域\" },\r\n    { pattern: \"レwww.siluke.com♠思♥路♣客レ\", value: \"\" },\r\n    { pattern: \"jiǔ\", value: \"酒\" },\r\n    { pattern: \"zì \", value: \"字\" },\r\n    { pattern: \"yóu\", value: \"油\" },\r\n    { pattern: \"zhèng\", value: \"正\" },\r\n    { pattern: \"fǔ\", value: \"府\" },\r\n    { pattern: \"nǎi\", value: \"乃\" },\r\n    { pattern: \"jiān\", value: \"间\" },\r\n    { pattern: \"chūn\", value: \"春\" },\r\n    { pattern: \"shè\", value: \"社\" },\r\n    { pattern: \"cāo\", value: \"糙\" },\r\n    { pattern: \"dú\", value: \"队\" },\r\n    { pattern: \"lì\", value: \"丽\" },\r\n    { pattern: \"jǐng\", value: \"警\" },\r\n    { pattern: \"jǐng\", value: \"警\" },\r\n    { pattern: \"chéng\", value: \"城\" },\r\n    { pattern: \"rén\", value: \"人\" },\r\n    { pattern: \"zhèng \", value: \"正\" },\r\n    { pattern: \"fǔ\", value: \"腹\" },\r\n    { pattern: \"nǎi\", value: \"奶\" },\r\n    { pattern: \"è\", value: \"色\" },\r\n    { pattern: \"jī\", value: \"基\" },\r\n    { pattern: \"méng\", value: \"萌\" },\r\n    { pattern: \"lù\", value: \"陆\" },\r\n    { pattern: \"mí\", value: \"弥\" },\r\n    { pattern: \"hún\", value: \"魂\" },\r\n    { pattern: \"dàng\", value: \"荡\" },\r\n    { pattern: \"bō\", value: \"波\" },\r\n    { pattern: \"shì\", value: \"市\" },\r\n    { pattern: \"nv\", value: \"女\" },\r\n    { pattern: \"『\", value: \"\" },\r\n    { pattern: \"』\", value: \"\" },\r\n    { pattern: \"mén\", value: \"门\" },\r\n    { pattern: \"máo\", value: \"毛\" },\r\n    { pattern: \"hòu\", value: \"后\" },\r\n    { pattern: \"huā\", value: \"花\" },\r\n    { pattern: \"jiāo\", value: \"交\" },\r\n    { pattern: \"ji\", value: \"基\" },\r\n    { pattern: \"dòng\", value: \"动\" },\r\n    { pattern: \"luàn\", value: \"换\" },\r\n    { pattern: \"fù\", value: \"付\" },\r\n    { pattern: \"xìn\", value: \"信\" },\r\n    { pattern: \"xiōng\", value: \"兄\" },\r\n    { pattern: \"yòu\", value: \"又\" },\r\n    { pattern: \"luǒ\", value: \"裸\" },\r\n    { pattern: \"sī\", value: \"私\" },\r\n    { pattern: \"readx\", value: \"\" },\r\n    { pattern: \"&nbsp;\", value: \"\" },\r\n    { pattern: \"nbsp;\", value: \"\" },\r\n    { pattern: \"[a-z]\", value: \"\" },\r\n    { pattern: \"[A-Z]\", value: \"\" },\r\n    { pattern: \"？\", value: \".\" },\r\n    { pattern: \"\\\\\\?\", value: \".\" },\r\n];","import { createStore, combineReducers, ReducersMapObject, Reducer, Store } from \"redux\";\r\nimport { DingamStyle } from \"./common\";\r\nimport { BaseAction } from \"./baseReducer\";\r\nimport { IBookMarkState, bookMarkReducer } from \"./bookMarkReducer\";\r\nimport { INotifyState, notificationReducer } from \"./notificationReducer\";\r\nimport { IBookState, bookReducer } from \"./bookReducer\";\r\nimport { settingsReducer, ISettingsState } from \"./settingsReducer\";\r\nimport Constants = require(\"./constants\");\r\n\r\nlet _store: Store<IStoreState, BaseAction>;\r\n\r\nlet reduxStore = () => {\r\n    if (!_store) {\r\n        _store = createStore<IStoreState, BaseAction, any, any>(reducer, defaultState);\r\n    }\r\n    return _store;\r\n}\r\n\r\nexport default reduxStore;\r\n\r\n//  State\r\nexport interface IStoreState {\r\n    bookMark?: IBookMarkState,\r\n    book?: IBookState,\r\n    notification?: INotifyState,\r\n    setting?: ISettingsState,\r\n\r\n}\r\n\r\nlet defaultState: IStoreState = {\r\n    bookMark: { books: [] },\r\n    book: { table: [], contents: [] },\r\n    notification: { NotifyMessage: null, NotifyStyle: DingamStyle.Primary, IsVissible: false },\r\n    setting: { bookDomain: \"\", corrections: Constants.CorrectionList },\r\n};\r\n\r\n\r\n// Reducec\r\nlet reducerMap: ReducersMapObject<IStoreState, BaseAction> = {\r\n    bookMark: bookMarkReducer,\r\n    book: bookReducer,\r\n    notification: notificationReducer,\r\n    setting:settingsReducer,\r\n\r\n};\r\n\r\nlet reducer = combineReducers(reducerMap);\r\n\r\n","import { DingamStyle } from \"./common\";\r\nimport { BaseAction, HandlerMap, reducerTemplate } from \"./baseReducer\";\r\nimport { Reducer } from \"redux\";\r\nimport Constants = require(\"./constants\");\r\nimport ReduxStore from \"./dataContainer\";\r\n\r\nexport function Notify(message: string, style: DingamStyle, vissible: boolean = true) {\r\n    let newNotify: NotifyAction = {\r\n        Message: message,\r\n        Style: style,\r\n        IsVissible: vissible,\r\n        type: Constants.ChangeNotification,\r\n\r\n    };\r\n\r\n    ReduxStore().dispatch(newNotify);\r\n}\r\n\r\nexport function NotifyAsync(message: string, style: DingamStyle, vissible: boolean = true) {\r\n    setTimeout(() => {\r\n        Notify(message, style, vissible);\r\n    }, 0);\r\n}\r\n\r\nexport interface INotifyState {\r\n    NotifyMessage?: string;\r\n    NotifyStyle: string | DingamStyle;\r\n    IsVissible: boolean;\r\n}\r\n\r\nexport interface NotifyAction extends BaseAction {\r\n    Message?: string;\r\n    Style?: DingamStyle;\r\n    IsVissible: boolean;\r\n}\r\n\r\nlet Notification_HandlerMap: HandlerMap<INotifyState> = {\r\n    [Constants.ChangeNotification]: changeNotification,\r\n};\r\n\r\nexport let notificationReducer: Reducer<INotifyState, BaseAction> = (\r\n    state = {\r\n        NotifyMessage: null,\r\n        NotifyStyle: DingamStyle.Primary,\r\n        IsVissible: false\r\n    },\r\n     action) => {\r\n    return reducerTemplate<INotifyState>(state, action, Notification_HandlerMap);\r\n};\r\n\r\nfunction changeNotification(state: INotifyState, action: NotifyAction) {\r\n    if (action.type == Constants.ChangeNotification) {\r\n        state.NotifyMessage = action.Message;\r\n        state.NotifyStyle = action.Style;\r\n        state.IsVissible = action.IsVissible;\r\n    }\r\n\r\n    return state;\r\n}\r\n\r\n","import { DataProvider } from \"../provider/dataProvider\";\r\n\r\nexport class SettingsModel {\r\n\r\n    constructor() {\r\n        this.provider = new DataProvider();\r\n    }\r\n\r\n    public setBookDomain(domain: string): JQueryPromise<string> {\r\n        return this.provider.putBookDomain(domain).then(\r\n            value => `document.cookie.BaseDomain is ${JSON.stringify(document.cookie)}`,\r\n            error => `set ${domain} Failed`,\r\n        );\r\n    }\r\n    private provider: DataProvider;\r\n}","import { HandlerMap, BaseAction, reducerTemplate, IBaseState, RequestStatus } from \"./baseReducer\";\r\nimport { Reducer } from \"redux\";\r\nimport { ICorrection } from \"../../../lib/typings/dataModel\";\r\nimport { Notify, NotifyAsync } from \"./notificationReducer\";\r\nimport { DingamStyle } from \"./common\";\r\nimport { SettingsModel } from \"./settingsModel\";\r\nimport Constants = require(\"./constants\");\r\nimport ReduxStore from \"./dataContainer\";\r\n\r\nlet Settings_HandlerMap: HandlerMap<ISettingsState> = {\r\n    [Constants.SetBookDomain_Request]: setBookDomain_Request,\r\n    [Constants.SetBookDomain_Response]: setBookDomain_Response,\r\n};\r\n\r\nexport interface ISettingsState extends IBaseState {\r\n    corrections?: ICorrection[];\r\n    bookDomain?: string;\r\n}\r\n\r\nexport let settingsReducer: Reducer<ISettingsState, BaseAction> = (state = { bookDomain: null, corrections: Constants.CorrectionList }, action) => {\r\n    return reducerTemplate<ISettingsState>(state, action, Settings_HandlerMap);\r\n};\r\n\r\nexport interface SetBookDomainAction_Request extends BaseAction {\r\n    bookDomain: string;\r\n}\r\n\r\nexport interface SetBookDomainAction_Response extends BaseAction {\r\n    message: string;\r\n}\r\n\r\nfunction setBookDomain_Request(state: ISettingsState, action: SetBookDomainAction_Request): ISettingsState {\r\n    if (action.type == Constants.SetBookDomain_Request) {\r\n        let settings = new SettingsModel();\r\n        settings.setBookDomain(action.bookDomain).then(message => {\r\n            ReduxStore().dispatch({\r\n                type: Constants.SetBookDomain_Response,\r\n                message: message,\r\n                status: RequestStatus.Success\r\n            })\r\n        });\r\n        NotifyAsync(`Load ${action.bookDomain} starting...`, DingamStyle.Secondary, true);\r\n    }\r\n\r\n    return { ...state, status: RequestStatus.Start };\r\n}\r\n\r\nfunction setBookDomain_Response(state: ISettingsState, action: SetBookDomainAction_Response): ISettingsState {\r\n    if (action.type == Constants.SetBookDomain_Response) {\r\n        NotifyAsync(`BookDomain: ${action.message} was set into cookie.`, DingamStyle.Success, true);\r\n        return { ...state, status: action.status };\r\n    }\r\n\r\n    return { ...state };\r\n}\r\n\r\n","import { ContentData, TitleData, BookMarkData } from \"../../../lib/typings/dataModel\";\r\nimport { encodingStr } from \"../../../lib/utility\";\r\n\r\nexport class DataProvider {\r\n    public getSayHi(name: string): JQueryPromise<string> {\r\n        return $.ajax({\r\n            \"method\": \"GET\",\r\n            \"url\": `hi?id=${name}`,\r\n            success: msg => msg as string,\r\n            error: e => `Service error ${JSON.stringify(e)}`,\r\n        });\r\n    }\r\n\r\n    public getbookTableOfContent(bookId: string): JQueryPromise<TitleData[]> {\r\n        return $.ajax(\r\n            {\r\n                type: \"POST\",\r\n                data: JSON.stringify({ \"id\": bookId }),\r\n                contentType: \"application/json\",\r\n                url: \"tableOfContent\",\r\n                success: data => {\r\n                    return data;\r\n                },\r\n            }\r\n        );\r\n    }\r\n\r\n    public getbookContent(bookId: string, chapterId: string, index: number): JQueryPromise<ContentData> {\r\n        return $.ajax(\r\n            {\r\n                type: \"POST\",\r\n                data: JSON.stringify({ \"bookId\": bookId, \"chapterId\": chapterId, \"index\": index }),\r\n                contentType: \"application/json\",\r\n                url: \"book\",\r\n                success: data => {\r\n                    return data;\r\n                },\r\n            }\r\n        );\r\n    }\r\n\r\n    public getLatestChapterNumber(bookId: string): JQueryPromise<number> {\r\n        return $.ajax(\r\n            {\r\n                type: \"GET\",\r\n                url: \"latestChapter?id=\" + bookId,\r\n                success: chapterNumber => chapterNumber.latestChapter,\r\n            }\r\n        );\r\n    }\r\n\r\n    public putLastestChapterNumber(bookId: string, chapterId: number): JQueryPromise<void> {\r\n        return $.ajax({\r\n            type: \"GET\",\r\n            url: \"putChapter?id=\" + bookId + \"&chapter=\" + chapterId,\r\n        });\r\n    }\r\n\r\n    public putBookDomain(bookDomain: string): JQueryPromise<boolean> {\r\n        return $.ajax({\r\n            type: \"PUT\",\r\n            url: \"BookDomain/\" + encodingStr(bookDomain),\r\n            success: () => true,\r\n            error: err => false,\r\n        });\r\n    }\r\n\r\n    public getBookMarks(): JQueryPromise<BookMarkData[]> {\r\n        return $.ajax({\r\n            type: \"GET\",\r\n            url: \"books\",\r\n        });\r\n    }\r\n\r\n    public deleteBookMark(bookId: string): JQueryPromise<boolean> {\r\n        return $.ajax({\r\n            type: \"DELETE\",\r\n            url: `bookMark\\\\${bookId}`,\r\n        });\r\n    }\r\n}","import { NavBar, Icon, SearchBar } from \"amazeui-dingtalk\";\r\nimport { SetBookDomainAction_Request } from \"../model/settingsReducer\";\r\nimport React = require(\"react\");\r\nimport CONST = require(\"../model/constants\");\r\nimport ReduxStore from \"../model/dataContainer\";\r\n\r\nexport interface INavTitleProp {\r\n\r\n}\r\n\r\ninterface INavTitleState {\r\n    SearchValue: string;\r\n    showsearBar: boolean;\r\n}\r\n\r\nexport class NavTitle extends React.Component<INavTitleProp, INavTitleState>{\r\n    public constructor(prop) {\r\n        super(prop);\r\n        this.state = {\r\n            SearchValue: \"\",\r\n            showsearBar: false,\r\n        };\r\n        this.onNavBarAction =this.onNavBarAction.bind(this);\r\n        this.onSearchSubmit = this.onSearchSubmit.bind(this);\r\n        this.onSearchValueChange = this.onSearchValueChange.bind(this);\r\n    }\r\n\r\n    public render() {\r\n        let rightNav = [{ icon: \"search\" }];\r\n\r\n        return this.state.showsearBar ?\r\n            this.createSearchBar() :\r\n            <NavBar rightNav={rightNav} onAction ={this.onNavBarAction} />;\r\n    }\r\n    private createSearchBar() {\r\n        return <SearchBar\r\n            placeholder=\"https://www.book.com/\"\r\n            cancelText=\"Search\"\r\n            onChange={this.onSearchValueChange}\r\n            onReset={this.onSearchSubmit} />;\r\n    }\r\n\r\n    private onSearchValueChange(e: any) {\r\n        this.setState({ SearchValue: e.target.value.trim() });\r\n    }\r\n\r\n    private onSearchSubmit() {\r\n        let action: SetBookDomainAction_Request = {\r\n            type: CONST.SetBookDomain_Request,\r\n            bookDomain: this.state.SearchValue,\r\n        };\r\n\r\n        ReduxStore().dispatch(action);\r\n        this.setState({showsearBar:false});\r\n    }\r\n\r\n    private onNavBarAction(item,e){\r\n        this.setState({showsearBar:true});\r\n    }\r\n}","import React = require(\"react\");\r\nimport { List } from \"amazeui-dingtalk\";\r\nimport { TitleData } from \"../../../lib/typings/dataModel\";\r\nimport ReduxStore from \"../model/dataContainer\";\r\nimport { Unsubscribe } from \"redux\";\r\nimport { Action } from \"../model/bookReducer\";\r\nimport CONST = require(\"../model/constants\");\r\nimport { BaseComponent } from \"./baseComponent\";\r\nimport { RequestStatus } from \"../model/baseReducer\";\r\n\r\nexport interface ITableOfContentProp {\r\n    onTitleClick: () => void;\r\n}\r\n\r\ninterface ITableOfContentState {\r\n    list: TitleData[];\r\n    bookId?: string;\r\n}\r\n\r\nexport class TableOfContents extends\r\n    BaseComponent<ITableOfContentProp, ITableOfContentState>{\r\n    public constructor(prop) {\r\n        super(prop);\r\n        let {book} = ReduxStore().getState();\r\n        let { bookId, table, status } = book;\r\n        this.state = {\r\n            list: status == RequestStatus.Success ? table : [],\r\n            bookId: bookId,\r\n        };\r\n\r\n        this.onListChange = this.onListChange.bind(this);\r\n    }\r\n\r\n    public componentDidMount() {\r\n        this.unSubscribe.push(ReduxStore().subscribe(this.onListChange))\r\n    }\r\n\r\n    public render() {\r\n        let list = this.state.list &&\r\n            this.state.list.map((chapter,index) =>\r\n                <List.Item key={index}\r\n                    href={\"#/\" + chapter.Title}\r\n                    title={chapter.Title}\r\n                    onClick={this.onTitleClick.bind(this, chapter.Href)}\r\n                />);\r\n        return (\r\n            <div className=\"show-scroll-y\">\r\n                <List >\r\n                    {list}\r\n                </List>\r\n            </div>);\r\n    }\r\n\r\n    private onTitleClick(id: string) {\r\n        let action: Action.GetContents_Request = {\r\n            type: CONST.GetContent_Request,\r\n            chapterId: id,\r\n            bookId: ReduxStore().getState().book.bookId,\r\n        };\r\n        ReduxStore().dispatch(action);\r\n        this.props.onTitleClick && this.props.onTitleClick();\r\n    }\r\n\r\n    private onListChange() {\r\n        let { book } = ReduxStore().getState();\r\n        let { table, latestCharpter, bookId, status } = book;\r\n\r\n        if (this.state.bookId !== bookId && status == RequestStatus.Success) {\r\n            let latest: TitleData = table[latestCharpter];\r\n            console.log(`this lates chapter is ${latest && latest.Title}`);\r\n            this.setState({\r\n                list: latest ? [latest, ...table] : table,\r\n                bookId: bookId\r\n            });\r\n        }\r\n    }\r\n}","import * as React from \"react\";\r\nimport { Unsubscribe } from \"redux\";\r\n\r\nexport class BaseComponent<T,S> extends React.Component<T,S>{\r\n    protected unSubscribe:Unsubscribe[]=[];\r\n\r\n    public componentWillUnmount(){\r\n        if(this.unSubscribe){\r\n            this.unSubscribe.forEach(unSub=>unSub());\r\n        }\r\n    }\r\n}","import React = require(\"react\");\r\nimport { List, Button, Icon } from \"amazeui-dingtalk\";\r\nimport { BookMarkData } from \"../../../lib/typings/dataModel\";\r\nimport { Unsubscribe } from \"redux\";\r\nimport ReduxStore from \"../model/dataContainer\";\r\nimport CONST = require(\"../model/constants\");\r\nimport { requestGetBooksAction } from \"../model/bookMarkReducer\";\r\nimport { NavTitle } from \"./NavTitle\";\r\nimport { Action } from \"../model/bookReducer\";\r\nimport { BaseComponent } from \"./baseComponent\";\r\n\r\nexport interface IBookListProp {\r\n    onItemClick: () => void;\r\n}\r\n\r\ninterface IBookListState {\r\n    books: null | BookMarkData[];\r\n}\r\n\r\nexport class BookList extends BaseComponent<IBookListProp, IBookListState>{\r\n    public constructor(prop) {\r\n        super(prop);\r\n\r\n        let bookmark = ReduxStore().getState().bookMark;\r\n        this.state = { books: bookmark && bookmark.books };\r\n        this.onBookListChange = this.onBookListChange.bind(this);\r\n    }\r\n\r\n    public componentWillMount() {\r\n        this.unSubscribe.push(ReduxStore().subscribe(this.onBookListChange));\r\n    }\r\n\r\n    public componentDidMount() {\r\n    }\r\n\r\n    public render() {\r\n        let list = this.state.books &&\r\n            this.state.books.map(book =>\r\n                <List.Item key={book.BookId}\r\n                    href={\"#/\" + book.BookId}\r\n                    title={book.Name}\r\n                    onClick={this.onItemClick.bind(this,book.BookId)}\r\n                />);\r\n        return <List >\r\n            <NavTitle />\r\n            {list}\r\n            <Button hollow noHb block onClick={this.refreshBookList}>\r\n                <Icon name=\"refresh\" />\r\n                Refresh</Button>\r\n        </List>\r\n    }\r\n\r\n    private refreshBookList() {\r\n        let action: requestGetBooksAction = {\r\n            type: CONST.GetBooks_Request,\r\n        }\r\n\r\n        ReduxStore().dispatch(action);\r\n    }\r\n\r\n    private onBookListChange() {\r\n        let { bookMark } = ReduxStore().getState();\r\n        let newBooks = bookMark && bookMark.books;\r\n\r\n        if (this.state.books !== newBooks) {\r\n            this.setState({ books: newBooks });\r\n        }\r\n    }\r\n\r\n    private onItemClick(id: string) {\r\n        let action: Action.GetTableOfContents_Request = {\r\n            type: CONST.GetTableOfContents_Request,\r\n            bookId: id,\r\n        };\r\n        ReduxStore().dispatch(action);\r\n\r\n        if (this.props.onItemClick) {\r\n            this.props.onItemClick();\r\n        }\r\n    }\r\n}","import React = require(\"react\");\r\nimport { ContentData } from \"../../../lib/typings/dataModel\";\r\nimport { Unsubscribe } from \"redux\";\r\nimport reduxStore from \"../model/dataContainer\";\r\nimport { BaseComponent } from \"./baseComponent\";\r\n\r\nexport interface IContentsProp { }\r\ninterface IContentsState {\r\n    contents: ContentData[];\r\n}\r\n\r\nexport class Contents extends BaseComponent<IContentsProp, IContentsState>{\r\n\r\n    public constructor(prop) {\r\n        super(prop);\r\n        this.state = { contents: [] };\r\n        this.onContentChange = this.onContentChange.bind(this);\r\n    }\r\n\r\n    public componentWillMount() {\r\n        this.unSubscribe.push(reduxStore().subscribe(this.onContentChange));\r\n    }\r\n\r\n    public render() {\r\n        let content = !this.state.contents\r\n            && this.state.contents.length > 0 ?\r\n            <dt>loading...</dt>\r\n            : this.state.contents.map((c,index) =>\r\n                <dl key={index}>\r\n                    <dt>{c.Title}</dt>\r\n                    {c.Content && c.Content.map((p,sub) => <dd key={sub}>{p}</dd>)}\r\n                </dl>);\r\n\r\n        return <div className=\"test-24 show-scroll-y\">\r\n            <dl>\r\n                {content}\r\n            </dl>\r\n        </div>;\r\n\r\n    }\r\n\r\n    private onContentChange() {\r\n        let { book } = reduxStore().getState();\r\n        let { contents } = book;\r\n        this.setState({ contents: contents })\r\n    }\r\n}","import * as CONST from \"../model/constants\";\r\nimport * as React from \"react\";\r\nimport { NotificationControl } from \"./notificationControl\";\r\nimport { TabBarControl, TabCategory } from \"./tabBarControl\";\r\nimport { requestGetBooksAction } from \"../model/bookMarkReducer\";\r\nimport { BookList } from \"./bookList\";\r\nimport { TableOfContents } from \"./TableOfContents\";\r\nimport ReduxStore from \"../model/dataContainer\";\r\nimport { Contents } from \"./contents\";\r\nimport { BaseComponent } from \"./baseComponent\";\r\n\r\ninterface HomePageState {\r\n    SearchValue: string;\r\n    Contents?: JSX.Element;\r\n}\r\n\r\nexport class HomePage extends BaseComponent<any, HomePageState>{\r\n    public constructor(prop) {\r\n        super(prop);\r\n\r\n        this.state = {\r\n            SearchValue: \"\",\r\n        };\r\n\r\n        this.onTabBarClick = this.onTabBarClick.bind(this);\r\n        this.createContents = this.createContents.bind(this);\r\n        this.createTableOfContents = this.createTableOfContents.bind(this);\r\n    }\r\n\r\n    public componentDidMount() {\r\n        let getBookAction: requestGetBooksAction = {\r\n            type: CONST.GetBooks_Request,\r\n        };\r\n        ReduxStore().dispatch(getBookAction);\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <div className=\"home-page-container\">\r\n                <NotificationControl />\r\n                <div className=\"home-page-content\">\r\n                    {this.state.Contents}\r\n                </div>\r\n                <div className=\"home-page-footer\">\r\n                    <TabBarControl onClick={this.onTabBarClick} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private onTabBarClick(key: string) {\r\n        switch (key) {\r\n            case TabCategory.Home:\r\n                this.setState({ Contents: <BookList\r\n                     onItemClick={this.createTableOfContents} /> });\r\n                break;\r\n            case TabCategory.Gear:\r\n            case TabCategory.Next:\r\n                this.setState({ Contents: undefined });\r\n                break;\r\n        }\r\n    }\r\n\r\n    private createTableOfContents(){\r\n        this.setState({ Contents: <TableOfContents onTitleClick={this.createContents} /> });\r\n    }\r\n\r\n    private createContents(){\r\n        this.setState({ Contents: <Contents/> });\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport { HomePage } from \"./homePage\";\r\n\r\nReactDOM.render(<HomePage/>,document.getElementById(\"content-root\"));","import * as React from \"react\";\r\nimport { Notification } from \"amazeui-dingtalk\";\r\nimport { DingamStyle } from \"../model/common\";\r\nimport ReduxStore from \"../model/dataContainer\";\r\nimport { ChangeNotification } from \"../model/constants\";\r\nimport { NotifyAction } from \"../model/notificationReducer\";\r\nimport { BaseComponent } from \"./baseComponent\";\r\n\r\ninterface INotificationState {\r\n    Message?: string;\r\n    Style: DingamStyle | string;\r\n    Visible: boolean;\r\n}\r\n\r\nexport interface INotificationProp {\r\n    Style?: string | DingamStyle,\r\n    Message?: string;\r\n    autoDismiss?: boolean;\r\n}\r\n\r\nexport class NotificationControl extends BaseComponent<INotificationProp, INotificationState>{\r\n    public constructor(prop) {\r\n        super(prop);\r\n\r\n        this.state = {\r\n            Message: this.props.Message,\r\n            Style: this.props.Style || DingamStyle.Primary,\r\n            Visible: this.props.Message != null,\r\n        };\r\n        this.onMessageChange = this.onMessageChange.bind(this);\r\n        this.closeNotification = this.closeNotification.bind(this);\r\n    }\r\n\r\n    public componentDidMount() {\r\n        this.unSubscribe.push(ReduxStore().subscribe(this.onMessageChange));\r\n    }\r\n\r\n    public componentWillUpdate() {\r\n        if (this.state.Visible && this.props.autoDismiss === undefined || this.props.autoDismiss) {\r\n            setTimeout(() => {\r\n                this.closeNotification();\r\n            }, 3000);\r\n        }\r\n    }\r\n\r\n    public render() {\r\n        return <Notification\r\n            title={this.state.Message}\r\n            amStyle={this.state.Style}\r\n            visible={this.state.Visible}\r\n            animated={true}\r\n            onDismiss={this.closeNotification}\r\n        />\r\n    }\r\n\r\n    private closeNotification() {\r\n        let action: NotifyAction = {\r\n            type: ChangeNotification,\r\n            Message: null,\r\n            IsVissible: false,\r\n            Style: DingamStyle.Primary,\r\n        };\r\n\r\n        this.setState({ Visible: false }, () => { ReduxStore().dispatch(action) });\r\n    }\r\n\r\n    private onMessageChange() {\r\n        let { notification } = ReduxStore().getState();\r\n        let { NotifyMessage, NotifyStyle, IsVissible } = notification;\r\n\r\n        if (IsVissible) {\r\n            this.setState({ Message: NotifyMessage || \"\", Style: NotifyStyle, Visible: !!NotifyMessage && IsVissible })\r\n        }\r\n    }\r\n}","import * as React from \"react\";\r\nimport { TabBar } from \"amazeui-dingtalk\";\r\nimport { DingamStyle } from \"../model/common\";\r\n\r\nexport enum TabCategory {\r\n    Home = \"home\",\r\n    Gear = \"gear\",\r\n    Next = \"next\",\r\n}\r\nexport interface ITabBarProps {\r\n    onClick?: (key: string) => void;\r\n}\r\n\r\ninterface TabBarControlState {\r\n    selected: string;\r\n}\r\n\r\nexport class TabBarControl extends React.Component<ITabBarProps, TabBarControlState>{\r\n    public componentWillMount() {\r\n    }\r\n\r\n    public state = {\r\n        selected: \"\",\r\n    }\r\n\r\n    private onClick = (key) => {\r\n        this.setState({ selected: key }, () => {\r\n            this.props.onClick(key);\r\n        });\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <TabBar amStyle={DingamStyle.Dark} onAction={this.onClick}>\r\n                <TabBar.Item\r\n                    eventKey=\"home\"\r\n                    selected={this.state.selected === \"home\"}\r\n                    icon=\"home\"\r\n                    title=\"home\" />\r\n                <TabBar.Item\r\n                    eventKey=\"gear\"\r\n                    selected={this.state.selected === \"gear\"}\r\n                    icon=\"gear\"\r\n                    title=\"Settings\" />\r\n                <TabBar.Item\r\n                    eventKey=\"next\"\r\n                    selected={this.state.selected === \"next\"}\r\n                    icon=\"pages\"\r\n                    title=\"Next\" />\r\n            </TabBar>\r\n        );\r\n    }\r\n}\r\n","module.exports = AMUIDingTalk;","module.exports = React;","module.exports = ReactDOM;","module.exports = Redux;"],"sourceRoot":""}