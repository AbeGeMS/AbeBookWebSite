{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/lib/utility.ts","webpack:///./src/public/script/model/bookMarkModel.ts","webpack:///./src/public/script/model/bookModel.ts","webpack:///./src/public/script/model/model.ts","webpack:///./src/public/script/model/settingsModel.ts","webpack:///./src/public/script/model/stateModel.ts","webpack:///./src/public/script/provider/dataProvider.ts","webpack:///./src/public/script/view/bookLib.tsx","webpack:///./src/public/script/view/content.tsx","webpack:///./src/public/script/view/footer.tsx","webpack:///./src/public/script/view/homePage.tsx","webpack:///./src/public/script/view/mainPage.tsx","webpack:///./src/public/script/view/search.tsx","webpack:///./src/public/script/view/tableOfContent.tsx","webpack:///external \"React\"","webpack:///external \"ReactDOM\""],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/public/script/view/mainPage.tsx\");\n","export function encodingStr(value: string): string {\r\n    return encodeURIComponent(value || \"\").replace(/'/g, \"%27\").replace(/\"/g, \"%22\");\r\n}\r\n\r\nexport function decodingStr(value: string): string {\r\n    return decodeURIComponent(value && value.replace(/\\+/g, \" \"));\r\n}\r\n\r\nexport function guid(): string {\r\n    return (S4() + S4() + \"-\" + S4() + \"-4\" + S4().substr(0, 3) + \"-\" + S4() + \"-\" + S4() + S4() + S4()).toLowerCase();\r\n}\r\n\r\nfunction S4() {\r\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n}","import { DataProvider } from \"../provider/dataProvider\";\r\nimport { BookMarkData } from \"../../../lib/typings/dataModel\";\r\n\r\nexport class BookMark {\r\n\r\n    private provider: DataProvider;\r\n\r\n    public constructor(provider?: DataProvider) {\r\n\r\n        if (!!provider) {\r\n            this.provider = provider;\r\n        } else {\r\n            this.provider = new DataProvider();\r\n        }\r\n    }\r\n\r\n    public set Provider(provider: DataProvider) {\r\n        this.provider = provider;\r\n    }\r\n\r\n    public deleteBook(bookId: string): JQueryPromise<string> {\r\n\r\n        return this.provider.deleteBookMark(bookId)\r\n            .then(value => {\r\n                if (value) {\r\n                    return `${bookId} was deleted`;\r\n                } else {\r\n                    return `${bookId} wasn't deleted`;\r\n                }\r\n            }, err => {\r\n                return `failed to delete ${JSON.stringify(err)}`;\r\n            });\r\n    }\r\n\r\n    public getBooks(): JQueryPromise<BookMarkData[]> {\r\n\r\n        return this.provider.getBookMarks()\r\n            .then(b => b.filter(v => v.BookId.trim() !== \"\" || v.Name.trim() !== \"\"));\r\n    }\r\n\r\n    public getLatestChapter(bookId: string): JQueryPromise<number> {\r\n\r\n        return this.provider.getLatestChapterNumber(bookId);\r\n    }\r\n\r\n    public setLatestCharpter(bookId: string, charpter: string): JQueryPromise<void> {\r\n        let charpterNumber = parseInt(charpter, 0);\r\n\r\n        if (!Number.isInteger(charpterNumber)) {\r\n            let result = $.Deferred<void>();\r\n            result.reject(`Invalid parameter. @charpter: ${charpter} should be a number`);\r\n            return result.promise();\r\n        }\r\n\r\n        return this.provider.getLatestChapterNumber(bookId)\r\n            .then(v => {\r\n                if (v < charpterNumber) {\r\n                    this.provider.putLastestChapterNumber(bookId, charpterNumber);\r\n                }\r\n            });\r\n    } \r\n}","import { ContentData, TitleData } from \"../../../lib/typings/dataModel\";\r\nimport { DataProvider } from \"../provider/dataProvider\";\r\nimport { BookMark } from \"./bookMarkModel\";\r\n\r\nexport class BookModel {\r\n    constructor() {\r\n        this.provider = new DataProvider();\r\n        this.bookMark = new BookMark(this.provider);\r\n    }\r\n\r\n    private bookMark: BookMark;\r\n    private provider: DataProvider;\r\n\r\n    public get Provider(): DataProvider { return this.provider }\r\n\r\n    public set Provider(provider: DataProvider) {\r\n        this.provider = provider\r\n    };\r\n\r\n    private bookId: string | null = null;\r\n\r\n    private tableOfContent: string[] = [];\r\n\r\n    public set TableOfContent(tableOfContent: string[]) { this.tableOfContent = tableOfContent };\r\n\r\n    public get TableOfContent(): string[] { return this.tableOfContent };\r\n\r\n    public get BookId(): string | null {\r\n        return this.bookId;\r\n    }\r\n\r\n    public set BookId(bookId: string) {\r\n        this.bookId = bookId;\r\n    }\r\n\r\n    public getBookContent(bookId: string, chapter: string): JQueryPromise<ContentData[]> {\r\n        let charpters = this.downloadCharpters(chapter);\r\n        return $.when(\r\n            ...charpters.map(\r\n                (value, index) => this.provider.getbookContent(bookId, value, index)\r\n            )\r\n        ).then(\r\n            (...contents) => {\r\n                if (contents.length === 3 && !contents[1].Title) {\r\n                    let result = [];\r\n                    result.push(contents[0]);\r\n                    return result;\r\n                }\r\n                return contents.map(c => c[0]);\r\n            },\r\n            err => err\r\n        ).then(Content => {\r\n            let latestCharpterIndex = this.tableOfContent.indexOf(chapter) + charpters.length;\r\n            this.bookMark.setLatestCharpter(bookId, latestCharpterIndex.toString());\r\n            return Content;\r\n        });\r\n    }\r\n\r\n    public getTableOfContents(bookId: string): JQueryPromise<TitleData[]> {\r\n        return this.provider.getbookTableOfContent(bookId);\r\n    }\r\n\r\n    private downloadCharpters(startChapter: string): string[] {\r\n        let index = this.tableOfContent.indexOf(startChapter);\r\n        return this.tableOfContent.slice(index, index + 5);\r\n    }\r\n}\r\n","import { BookMark } from \"./bookMarkModel\";\r\nimport { BookModel } from \"./bookModel\";\r\nimport { SettingsModel } from \"./settingsModel\";\r\nimport { StateModel } from \"./stateModel\";\r\n\r\nexport class ModelFactory {\r\n    private readonly settings: SettingsModel;\r\n    private readonly bookMark: BookMark;\r\n    private readonly book: BookModel;\r\n    private readonly state: StateModel;\r\n\r\n    constructor() {\r\n        this.settings = new SettingsModel();\r\n        this.bookMark = new BookMark();\r\n        this.book = new BookModel();\r\n        this.state = new StateModel();\r\n    }\r\n\r\n    public get Setting(): SettingsModel {\r\n        return this.settings;\r\n    }\r\n\r\n    public get BookMark(): BookMark {\r\n        return this.bookMark;\r\n    }\r\n\r\n    public get Book(): BookModel {\r\n        return this.book;\r\n    }\r\n\r\n    public get State(): StateModel {\r\n        return this.state;\r\n    }\r\n}","import { DataProvider } from \"../provider/dataProvider\";\r\n\r\nexport class SettingsModel {\r\n\r\n    constructor() {\r\n        this.provider = new DataProvider();\r\n    }\r\n\r\n    public parseDomainUrl(input: string) {\r\n        let domainParser = input.split('.');\r\n        return `www.${domainParser.length > 1 ? domainParser[1] : domainParser}`;\r\n    }\r\n\r\n    public getBookId(input: string) {\r\n        let result: string[] = input.match(/\\d+_\\d+/g);\r\n        return result && result.length > 0 ? result[0] : \"\";\r\n    }\r\n\r\n    public setBookDomain(domain: string): JQueryPromise<string> {\r\n        return this.provider.putBookDomain(this.parseDomainUrl(domain)).then(\r\n            value => `document.cookie.BaseDomain is ${JSON.stringify(document.cookie)}`,\r\n            error => `set ${domain} Failed`,\r\n        );\r\n    }\r\n    private provider: DataProvider;\r\n}","export class StateModel{\r\n    SelectedCharpter:string;\r\n}","import { ContentData, TitleData, BookMarkData } from \"../../../lib/typings/dataModel\";\r\nimport { encodingStr } from \"../../../lib/utility\";\r\nconst root: string = \"\";\r\n\r\nexport class DataProvider {\r\n    public getbookTableOfContent(bookId: string): JQueryPromise<TitleData[]> {\r\n        return $.ajax(\r\n            {\r\n                type: \"POST\",\r\n                data: JSON.stringify({ \"id\": bookId }),\r\n                contentType: \"application/json\",\r\n                url: `${root}tableOfContent`,\r\n                success: data => {\r\n                    return data;\r\n                },\r\n            }\r\n        );\r\n    }\r\n\r\n    public getbookContent(bookId: string, chapterId: string, index: number): JQueryPromise<ContentData> {\r\n        return $.ajax(\r\n            {\r\n                type: \"POST\",\r\n                data: JSON.stringify({ \"bookId\": bookId, \"chapterId\": chapterId, \"index\": index }),\r\n                contentType: \"application/json\",\r\n                url: `${root}book`,\r\n                success: data => {\r\n                    return data;\r\n                },\r\n            }\r\n        );\r\n    }\r\n\r\n    public getLatestChapterNumber(bookId: string): JQueryPromise<number> {\r\n        return $.ajax(\r\n            {\r\n                type: \"GET\",\r\n                url: `${root}latestChapter?id=${bookId}`,\r\n                success: chapterNumber => chapterNumber.latestChapter,\r\n            }\r\n        ).then(data => data.latestChapter);\r\n    }\r\n\r\n    public putLastestChapterNumber(bookId: string, chapterId: number): JQueryPromise<void> {\r\n        return $.ajax({\r\n            type: \"PUT\",\r\n            url: `${root}bookMark?id=${bookId}&chapter=${chapterId}`,\r\n            data: { id: bookId, chapter: chapterId },\r\n        });\r\n    }\r\n\r\n    public putBookDomain(bookDomain: string): JQueryPromise<boolean> {\r\n        return $.ajax({\r\n            type: \"PUT\",\r\n            url: `${root}BookDomain/${encodingStr(bookDomain)}`,\r\n            success: () => true,\r\n            error: err => false,\r\n        }).then(data => true, (jqr, status, error) => false);\r\n    }\r\n\r\n    public getBookMarks(): JQueryPromise<BookMarkData[]> {\r\n        return $.ajax({\r\n            type: \"GET\",\r\n            url: `${root}books`,\r\n        });\r\n    }\r\n\r\n    public deleteBookMark(bookId: string): JQueryPromise<boolean> {\r\n        return $.ajax({\r\n            type: \"DELETE\",\r\n            url: `${root}bookMark/${bookId}`,\r\n        });\r\n    }\r\n}","import * as React from \"react\";\r\n\r\nimport { BookMark } from \"../model/bookMarkModel\";\r\nimport { BookMarkData } from \"../../../lib/typings/dataModel\";\r\nimport { guid} from \"../../../lib/utility\";\r\nimport { BookModel } from \"../model/bookModel\";\r\n\r\ninterface IbookLibState {\r\n    books: BookMarkData[];\r\n}\r\n\r\nexport interface IBookLibProp {\r\n    bookMark: BookMark;\r\n    selectedBook:BookModel;\r\n    onBookSelect: () => void;\r\n}\r\n\r\nexport class BookLib extends React.Component<IBookLibProp, IbookLibState>{\r\n\r\n    public constructor(prop) {\r\n        super(prop);\r\n        this.onBookClick = this.onBookClick.bind(this);\r\n    }\r\n\r\n    public componentWillMount() {\r\n        this.props.bookMark.getBooks().then(v => { this.setState({ books: v }) });\r\n    }\r\n\r\n    public render() {\r\n        if (this.state && this.state.books) {\r\n            let bookList = this.state.books.map(b => {\r\n                return <button\r\n                    key ={guid()} \r\n                    className=\"primary-btn bg-dark text-white\"\r\n                    name={b.BookId}\r\n                    onClick={this.onBookClick}>{b.Name}</button>\r\n            });\r\n\r\n            return bookList;\r\n        }\r\n\r\n        return <div className=\"spinner text-secondary\">Loading...</div>;\r\n    }\r\n\r\n    private onBookClick(e:React.MouseEvent<HTMLButtonElement,MouseEvent>) {\r\n        this.props.selectedBook.BookId = (e.target as any).name;\r\n        this.props.onBookSelect();\r\n    }\r\n}","import * as React from \"react\";\r\nimport { BookModel } from \"../model/bookModel\";\r\nimport { ContentData } from \"../../../lib/typings/dataModel\";\r\nimport { guid } from \"../../../lib/utility\";\r\n\r\ninterface IContentState {\r\n    contents: ContentData[];\r\n}\r\n\r\nexport interface IContentProp {\r\n    book: BookModel;\r\n    charpter: string;\r\n}\r\n\r\nexport class Content extends React.Component<IContentProp, IContentState>{\r\n    public constructor(prop) {\r\n        super(prop);\r\n    }\r\n\r\n    public componentWillMount() {\r\n        this.props.book.getBookContent(this.props.book.BookId, this.props.charpter)\r\n            .then(v => this.setState({ contents: v }));\r\n    }\r\n\r\n    public render() {\r\n        if (this.state && this.state.contents) {\r\n            return this.state.contents.map(v => {\r\n                return (\r\n                    [<p className=\"title\" key={guid()}>{v.Title}</p>,\r\n                    ...this.oneCharter(v.Content)]\r\n                );\r\n            });\r\n        }\r\n        return <div className=\"spinner text-secondary\">Loading...</div>\r\n    }\r\n\r\n    private oneCharter(content: string[]): JSX.Element[] {\r\n        //TODO: modify content\r\n        return content.map(pp => <p key={guid()}>{pp}</p>);\r\n    }\r\n}","import * as React from \"react\";\r\n\r\ninterface IFooterState {\r\n\r\n}\r\n\r\nexport interface IFooterProp {\r\n    onSearchClick: () => void,\r\n    onSettingClick: () => void,\r\n}\r\n\r\nexport class Footer extends React.Component<IFooterProp, IFooterState>{\r\n    constructor(prop) {\r\n        super(prop);\r\n        this.onSearchClick= this.onSearchClick.bind(this);\r\n        this.onSettingsClick = this.onSettingsClick.bind(this);\r\n    }\r\n    public render() {\r\n        return (\r\n            <div className=\"footer-root\">\r\n                <div className=\"footer-left\" onClick={this.onSearchClick}>Search</div>\r\n                <div className=\"footer-right\" onClick={this.onSettingsClick}>Settings</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private onSearchClick() {\r\n        this.props.onSearchClick();\r\n    }\r\n\r\n    private onSettingsClick() {\r\n        this.props.onSettingClick();\r\n    }\r\n}","import * as React from \"react\";\r\nimport { Footer, IFooterProp } from \"./footer\";\r\nimport { Search, ISearchProp } from \"./search\";\r\nimport { ModelFactory } from \"../model/model\";\r\nimport { BookLib, IBookLibProp } from \"./bookLib\";\r\nimport { ITableOfContentProp, TableOfContent } from \"./tableOfContent\";\r\nimport { Content, IContentProp } from \"./content\";\r\n\r\nenum ContentComponent {\r\n    BookLib = 1,\r\n    Search,\r\n    TableOfContent,\r\n    Content,\r\n    Settings,\r\n}\r\n\r\ninterface HomePageState {\r\n    Contents?: JSX.Element;\r\n    currentContent: ContentComponent;\r\n}\r\n\r\nexport class HomePage extends React.Component<any, HomePageState>{\r\nprivate readonly modelFac:ModelFactory;\r\n    public constructor(prop) {\r\n        super(prop);\r\n\r\n        this.setComponentState = this.setComponentState.bind(this);\r\n        this.renderContent = this.renderContent.bind(this);\r\n        this.modelFac = new ModelFactory();\r\n        this.state = {\r\n            currentContent: ContentComponent.Search,\r\n        };\r\n    }\r\n\r\n    public componentDidMount() {\r\n    }\r\n\r\n    public render() {\r\n        let footerProp: IFooterProp = {\r\n            onSearchClick: () => { this.setComponentState(ContentComponent.Search) },\r\n            onSettingClick: () => { this.setComponentState(ContentComponent.Settings) },\r\n        };\r\n        return (\r\n            <div className=\"home-page-container\">\r\n                <div className=\"home-page-content show-scroll-y\">\r\n                    {this.renderContent()}\r\n                </div>\r\n                <div className=\"home-page-footer bg-dark\">\r\n                    <Footer {...footerProp} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private renderContent() {\r\n        if (!this.state || !this.state.currentContent) {\r\n            return <div></div>;\r\n        }\r\n\r\n        let bookLibProp: IBookLibProp = {\r\n            bookMark: this.modelFac.BookMark,\r\n            selectedBook: this.modelFac.Book,\r\n            onBookSelect: () => this.setComponentState(ContentComponent.TableOfContent),\r\n        };\r\n\r\n        let tableOfContent: ITableOfContentProp = {\r\n            book: this.modelFac.Book,\r\n            bookMark: this.modelFac.BookMark,\r\n            state:this.modelFac.State,\r\n            onCharpterSelected: () => this.setComponentState(ContentComponent.Content),\r\n        }\r\n\r\n        let contentProp: IContentProp = {\r\n            book: this.modelFac.Book,\r\n            charpter:this.modelFac.State.SelectedCharpter,\r\n        }\r\n        let result: JSX.Element;\r\n        switch (this.state.currentContent) {\r\n            case ContentComponent.Search:\r\n                let searchProp: ISearchProp = {\r\n                    settingModel: this.modelFac.Setting,\r\n                    searchedBook: this.modelFac.Book,\r\n                    onSearchDone: () => { this.setComponentState(ContentComponent.TableOfContent) },\r\n                    onGoLibDone: () => { this.setComponentState(ContentComponent.BookLib) },\r\n                }\r\n                result = <Search {...searchProp} />;\r\n                break;\r\n            case ContentComponent.BookLib:\r\n                result = <BookLib {...bookLibProp} />;\r\n                break;\r\n            case ContentComponent.Content:\r\n                result = <Content {...contentProp}/>;\r\n                break;\r\n            case ContentComponent.TableOfContent:\r\n                result = <TableOfContent {...tableOfContent}/>;\r\n                break;\r\n            case ContentComponent.Settings:\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private setComponentState(target: ContentComponent) {\r\n        this.setState({ currentContent: target });\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport { HomePage } from \"./homePage\";\r\n\r\nReactDOM.render(<HomePage/>,document.getElementById(\"content-root\"));","import * as React from \"react\";\r\nimport { SettingsModel } from \"../model/settingsModel\";\r\nimport { BookModel } from \"../model/bookModel\";\r\n\r\ninterface ISearchState {\r\n\r\n}\r\n\r\nexport interface ISearchProp {\r\n    settingModel: SettingsModel;\r\n    searchedBook: BookModel;\r\n    onSearchDone: () => void;\r\n    onGoLibDone: () => void;\r\n}\r\n\r\nexport class Search extends React.Component<ISearchProp, ISearchState>{\r\n    private searchElement: React.RefObject<HTMLInputElement>;\r\n    public constructor(prop) {\r\n        super(prop);\r\n\r\n        this.onSearchClick = this.onSearchClick.bind(this);\r\n        this.onGoLibClick = this.onGoLibClick.bind(this);\r\n        this.searchElement = React.createRef<HTMLInputElement>();\r\n    }\r\n    public render() {\r\n        return (\r\n            <div>\r\n                <input className=\"search-bar\" ref={this.searchElement}></input>\r\n                <div className=\"search-flex-container\">\r\n                    <button className=\"search-btn bg-info\" onClick={this.onSearchClick}>Search</button>\r\n                    <button className=\"get-lib-btn bg-primary\" onClick={this.onGoLibClick}>Go Book Lib</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private onSearchClick() {\r\n        let bookLib: string[];\r\n\r\n        if (this.searchElement.current) {\r\n            this.props.settingModel.setBookDomain(this.searchElement.current.value)\r\n                .then(v => {\r\n                    this.props.searchedBook.BookId =\r\n                        this.props.settingModel.getBookId(this.searchElement.current.value);\r\n                    this.props.onSearchDone();\r\n                });\r\n        }\r\n    }\r\n\r\n    private onGoLibClick() {\r\n        if (this.searchElement.current) {\r\n            this.props.settingModel.setBookDomain(this.searchElement.current.value)\r\n                .then(v => this.props.onGoLibDone());\r\n        }\r\n    }\r\n}","import * as React from \"react\";\r\nimport { BookMark } from \"../model/bookMarkModel\";\r\nimport { BookModel } from \"../model/bookModel\";\r\nimport { TitleData } from \"../../../lib/typings/dataModel\";\r\nimport { guid } from \"../../../lib/utility\";\r\nimport { StateModel } from \"../model/stateModel\";\r\n\r\ninterface ITableOfContentState {\r\n    lists: TitleData[];\r\n    latestCharpter: number;\r\n}\r\n\r\nexport interface ITableOfContentProp {\r\n    book: BookModel;\r\n    bookMark: BookMark;\r\n    state: StateModel;\r\n    onCharpterSelected: () => void;\r\n}\r\nexport class TableOfContent extends React.Component<ITableOfContentProp, ITableOfContentState>{\r\n    public constructor(prop) {\r\n        super(prop);\r\n        this.onCharpterButtonClick = this.onCharpterButtonClick.bind(this);\r\n    }\r\n\r\n    public componentWillMount() {\r\n        let bookId = this.props.book.BookId;\r\n        this.props.book.getTableOfContents(bookId)\r\n            .then(list => this.setState({ lists: list }))\r\n            .then(\r\n                () => this.props.bookMark.getLatestChapter(bookId).then(l =>\r\n                    this.setState({\r\n                        latestCharpter: this.state.lists.length > l\r\n                            ? l\r\n                            : this.state.lists.length - 1\r\n                    })\r\n                )\r\n            );\r\n    }\r\n\r\n    public render() {\r\n        if (this.state && this.state.lists) {\r\n            let lastCharpter = this.state.latestCharpter\r\n                ? this.state.lists[this.state.latestCharpter]\r\n                : this.state.lists[0];\r\n            let tableOfContent = this.state.lists.map(charpter => <button\r\n                key={guid()}\r\n                className=\"primary-btn bg-dak text-white\"\r\n                name={charpter.Href}\r\n                onClick={this.onCharpterButtonClick}>\r\n                {charpter.Title}</button>);\r\n\r\n            return (<div>\r\n                <button\r\n                    className=\"primary-btn bg-dak text-white\"\r\n                    name={lastCharpter.Href}\r\n                    onClick={this.onCharpterButtonClick}>\r\n                    {lastCharpter.Title}</button>\r\n                {tableOfContent}\r\n            </div>);\r\n        }\r\n\r\n        return <div className=\"spinner text-secondary\">Loading...</div>\r\n    }\r\n\r\n    private onCharpterButtonClick(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) {\r\n        this.props.book.TableOfContent = this.state.lists.map(t => t.Href);\r\n        this.props.state.SelectedCharpter = (e.target as any).name;\r\n        this.props.onCharpterSelected();\r\n    }\r\n}","module.exports = React;","module.exports = ReactDOM;"],"sourceRoot":""}